<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/style.css" />
  <title>DreamBook</title>
</head>

<body>

<header>
  <nav class="nav">
    <button class="menu-btn" onclick="toggleMenu()" aria-label="Toggle navigation menu" aria-expanded="false">
      â˜°
    </button>

    <div class="nav-links" id="navLinks">
      <a href="/">
        <img src="/images/DreamBook.png" alt="logo" class="DreamBook-logo" />
      </a>

      <a href="/dictionary">Dream Dictionary</a>
      <a href="/dream-realness">Dream Analyzer</a>
      <a href="/dashboard">Public Posts</a>
      <a href="/create-post">Post Your Dream</a>
      <a href="/inbox" class="highlight">Inbox</a>
      <a href="/notifications">Notifications</a>

      <% if (!hideSearch) { %>
        <form class="search-form">
          <input
            id="searchInput"
            type="search"
            placeholder="Search dreams..."
            autocomplete="off"
          />
        </form>
      <% } %>

      <button id="notif-bell" aria-label="Notifications">
        ðŸ”” <span id="notif-count">0</span>
      </button>

      <div class="dropdown">
        <button class="dropbtn" aria-haspopup="true" aria-expanded="false">Account â–¼</button>
        <div class="dropdown-content">
          <% if (user) { %>
            <a href="/logout"><%= user.username %> Logout</a>
          <% } else { %>
            <a href="/register">Signup</a>
            <a href="/login">Login</a>
          <% } %>
        </div>
      </div>
    </div>
  </nav>
</header>

<script>
function toggleMenu() {
  const navLinks = document.getElementById("navLinks");
  const menuBtn = document.querySelector(".menu-btn");
  navLinks.classList.toggle("active");
  menuBtn.setAttribute(
    "aria-expanded",
    navLinks.classList.contains("active")
  );
}

const searchInput = document.getElementById("searchInput");
if (searchInput) {
  searchInput.addEventListener("input", () => {
    // search logic
  });
}

const notifBell = document.getElementById("notif-bell");
if (notifBell) {
  notifBell.addEventListener("click", () => {
    // notification logic
  });
}
</script>

</body>
</html>
